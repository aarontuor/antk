id ident()
-dotproduct x_dot_y()
--huser lookup(dataname='user', initrange=$initrange, shape=[None, $kfactors])
--hitem lookup(dataname='item', initrange=$initrange, shape=[None, $kfactors])
-dotproduct2 x_dot_y()
--all_user dnn([$kfactors], activation='tanh',bn=True,keep_prob=None)
---tanh_user tf.nn.tanh()
----merge_user concat($kfactors)
-----huser2 lookup(dataname='user', initrange=$initrange, shape=[None, $kfactors])
-----hage dnn([$kfactors],activation='tanh',bn=True,keep_prob=None)
------agelookup embedding()
-------age placeholder(tf.float32)
-------user placeholder(tf.int32)
-----hsex dnn([$kfactors],activation='tanh',bn=True,keep_prob=None)
------sexlookup embedding()
-------sex_weights weights('tnorm',  [2, $kfactors])
-------sexes embedding()
--------sex placeholder(tf.int32)
--------user placeholder(tf.int32)
-----hocc dnn([$kfactors],activation='tanh',bn=True,keep_prob=None)
------occlookup embedding()
-------occ_weights weights('tnorm',  [21, $kfactors])
-------occs embedding()
--------occ placeholder(tf.int32)
--------user placeholder(tf.int32)
-----hzip dnn([$kfactors],activation=$act,bn=True,keep_prob=None)
------ziplookup embedding()
-------zip_weights weights('tnorm',  [1000, $kfactors])
-------zips embedding()
--------zip placeholder(tf.int32)
--------user placeholder(tf.int32)
-----husertime dnn([$kfactors],activation='tanh',bn=True,keep_prob=$keep_prob)
------time placeholder(tf.float32)
--all_item dnn([$kfactors], activation='tanh',bn=True,keep_prob=None)
---tanh_item tf.nn.tanh()
----merge_item concat($kfactors)
-----hitem2 lookup(dataname='item', initrange=$initrange, shape=[None, $kfactors])
-----hgenre dnn([$kfactors],activation='tanh',bn=True,keep_prob=None)
------genrelookup embedding()
-------genres placeholder(tf.float32)
-------item placeholder(tf.int32)
-----hmonth dnn([$kfactors],activation='tanh',bn=True,keep_prob=None)
------monthlookup embedding()
-------month_weights weights('tnorm',  [12, $kfactors])
-------months embedding()
--------month placeholder(tf.int32)
--------item placeholder(tf.int32)
-----hyear dnn([$kfactors],activation='tanh',bn=True,keep_prob=None)
------yearlookup embedding()
-------year placeholder(tf.float32)
-------item placeholder(tf.int32)
-----htfidf dnn([$kfactors],activation='tanh',bn=True,keep_prob=None)
------tfidflookup embedding()
-------tfidf_doc_term placeholder(tf.float32)
-------item placeholder(tf.int32)
-----hitemtime dnn([$kfactors],activation='tanh',bn=True,keep_prob=None)
------time placeholder(tf.float32)
